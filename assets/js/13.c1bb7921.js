(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{259:function(t,a,s){t.exports=s.p+"assets/img/robotId.9a0f8e74.jpg"},274:function(t,a,s){"use strict";s.r(a);var n=s(28),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"在-pipeline-中使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在-pipeline-中使用"}},[t._v("#")]),t._v(" 在 pipeline 中使用")]),t._v(" "),n("p",[t._v("取消项目中勾选的机器人，防止重复发送消息。")]),t._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),n("p",[t._v("请确保你的插件版本 >= "),n("strong",[t._v("2.1.0")])])]),t._v(" "),n("h2",{attrs:{id:"语法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[t._v("#")]),t._v(" 语法")]),t._v(" "),n("div",{staticClass:"language-groovy extra-class"},[n("pre",{pre:!0,attrs:{class:"language-groovy"}},[n("code",[t._v("\ndingtalk "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    robot"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    at"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    atAll"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    messageUrl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    picUrl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    singleTitle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    btns"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    btnLayout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    hideAvatar"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),n("h2",{attrs:{id:"参数说明"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参数说明"}},[t._v("#")]),t._v(" 参数说明")]),t._v(" "),n("h3",{attrs:{id:"通用的参数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#通用的参数"}},[t._v("#")]),t._v(" 通用的参数")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("参数")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("robot")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),n("td",[t._v("机器人 id")])]),t._v(" "),n("tr",[n("td",[t._v("type")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[n("a",{attrs:{href:"#MsgTypeEnum"}},[t._v("MsgTypeEnum")])]),t._v(" "),n("td",[t._v("消息类型")])]),t._v(" "),n("tr",[n("td",[t._v("at")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("List<String>")]),t._v(" "),n("td",[t._v("需要 @ 的手机号码")])]),t._v(" "),n("tr",[n("td",[t._v("atAll")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),n("td",[t._v("是否 @ 全部")])])])]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[n("code",[t._v("robot")]),t._v(" 参数可以在机器人配置中找到。")])]),t._v(" "),n("details",{staticClass:"custom-block details"},[n("summary",[t._v("查看详情")]),t._v(" "),n("p",[n("img",{attrs:{src:s(259),alt:"robotId.jpg"}})])]),t._v(" "),n("h3",{attrs:{id:"msgtypeenum"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#msgtypeenum"}},[t._v("#")]),t._v(" MsgTypeEnum")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("enum")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MsgTypeEnum")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  TEXT"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  LINK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  MARKDOWN"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  ACTION_CARD\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),n("h3",{attrs:{id:"text-类型的消息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#text-类型的消息"}},[t._v("#")]),t._v(" TEXT 类型的消息")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("参数")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("text")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("List<String>")]),t._v(" "),n("td",[t._v("发送文本消息")])])])]),t._v(" "),n("h3",{attrs:{id:"link-类型的消息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#link-类型的消息"}},[t._v("#")]),t._v(" LINK 类型的消息")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("参数")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("title")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),n("td",[t._v("消息标题")])]),t._v(" "),n("tr",[n("td",[t._v("text")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("List<String>")]),t._v(" "),n("td",[t._v("消息内容，如果太长只会部分展示")])]),t._v(" "),n("tr",[n("td",[t._v("messageUrl "),n("Badge",{attrs:{type:"error",text:"必填"}})],1),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),n("td",[t._v("点击消息跳转的 URL")])]),t._v(" "),n("tr",[n("td",[t._v("picUrl")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),n("td",[t._v("图片 URL")])])])]),t._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),n("p",[t._v("该类型的消息不支持 At 功能。")])]),t._v(" "),n("h3",{attrs:{id:"markdown-类型的消息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#markdown-类型的消息"}},[t._v("#")]),t._v(" MARKDOWN 类型的消息")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("参数")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("title")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),n("td",[n("a",{attrs:{href:"#%E9%A6%96%E5%B1%8F%E4%BC%9A%E8%AF%9D"}},[t._v("首屏会话")]),t._v(" 透出的展示内容")])]),t._v(" "),n("tr",[n("td",[t._v("text")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("List<String>")]),t._v(" "),n("td",[t._v("消息内容，支持 [受限的 markdonw](#受限的 markdonw) 语法")])])])]),t._v(" "),n("h3",{attrs:{id:"action-card-类型的消息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#action-card-类型的消息"}},[t._v("#")]),t._v(" ACTION_CARD 类型的消息")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("参数")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("title")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),n("td",[n("a",{attrs:{href:"#%E9%A6%96%E5%B1%8F%E4%BC%9A%E8%AF%9D"}},[t._v("首屏会话")]),t._v(" 透出的展示内容")])]),t._v(" "),n("tr",[n("td",[t._v("text")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("List<String>")]),t._v(" "),n("td",[t._v("消息内容，支持 [受限的 markdonw](#受限的 markdonw) 语法")])]),t._v(" "),n("tr",[n("td",[t._v("btnLayout")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[n("a",{attrs:{href:"#BtnLayoutEnum"}},[t._v("BtnLayoutEnum")])]),t._v(" "),n("td",[t._v("按钮的排列方式")])]),t._v(" "),n("tr",[n("td",[t._v("hideAvatar")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),n("td",[t._v("是否隐藏发消息者头像")])])])]),t._v(" "),n("h3",{attrs:{id:"btnlayoutenum"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#btnlayoutenum"}},[t._v("#")]),t._v(" BtnLayoutEnum")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("enum")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BtnLayoutEnum")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * horizotal：水平排列\n   */")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("H")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * vertical：垂直排列\n   */")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n")])])]),n("h4",{attrs:{id:"整体跳转"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#整体跳转"}},[t._v("#")]),t._v(" 整体跳转")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("参数")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("singleTitle")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),n("td",[t._v("单个按钮的方案（设置此项和 "),n("code",[t._v("singleUrl")]),t._v(" 后 "),n("code",[t._v("btns")]),t._v(" 无效）")])]),t._v(" "),n("tr",[n("td",[t._v("singleUrl")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),n("td",[t._v("点击 "),n("code",[t._v("singleTitle")]),t._v(" 按钮触发的 URL")])])])]),t._v(" "),n("h4",{attrs:{id:"独立跳转"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#独立跳转"}},[t._v("#")]),t._v(" 独立跳转")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("参数")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("btns")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("List<"),n("a",{attrs:{href:"#ButtonModel"}},[t._v("ButtonModel")]),t._v(">")]),t._v(" "),n("td",[t._v("自定义按钮组")])])])]),t._v(" "),n("h3",{attrs:{id:"buttonmodel"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buttonmodel"}},[t._v("#")]),t._v(" ButtonModel")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ButtonModel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * 按钮标题\n   */")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * 点击按钮跳转的链接\n   */")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" actionUrl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"默认设置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#默认设置"}},[t._v("#")]),t._v(" 默认设置")]),t._v(" "),n("h3",{attrs:{id:"title-参数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#title-参数"}},[t._v("#")]),t._v(" title 参数")]),t._v(" "),n("p",[t._v("当参数为空时，默认会使用 "),n("em",[t._v("Jenkins 通知")]),t._v("。")]),t._v(" "),n("h3",{attrs:{id:"action-card-类型的消息-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#action-card-类型的消息-2"}},[t._v("#")]),t._v(" ACTION_CARD 类型的消息")]),t._v(" "),n("p",[t._v("当 "),n("code",[t._v("singleTitle")]),t._v(" 与 "),n("code",[t._v("btns")]),t._v(" 都为空时，默认会创建 『更改记录』『控制台』 2 个按钮。")]),t._v(" "),n("h2",{attrs:{id:"效果展示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#效果展示"}},[t._v("#")]),t._v(" 效果展示")]),t._v(" "),n("h3",{attrs:{id:"text-消息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#text-消息"}},[t._v("#")]),t._v(" TEXT 消息")]),t._v(" "),n("details",{staticClass:"custom-block details"},[n("summary",[t._v("点击查看")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://img.alicdn.com/tfs/TB1jFpqaRxRMKJjy0FdXXaifFXa-497-133.png",alt:"text"}})])]),t._v(" "),n("h3",{attrs:{id:"link-消息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#link-消息"}},[t._v("#")]),t._v(" LINK 消息")]),t._v(" "),n("details",{staticClass:"custom-block details"},[n("summary",[t._v("点击查看")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://ding-doc.oss-cn-beijing.aliyuncs.com/images/0.0.239/1570679827267-6243216b-d1c3-48b7-9b1e-0f0b4211b50b.png",alt:"link"}})])]),t._v(" "),n("h3",{attrs:{id:"markdown-消息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#markdown-消息"}},[t._v("#")]),t._v(" MARKDOWN 消息")]),t._v(" "),n("details",{staticClass:"custom-block details"},[n("summary",[t._v("点击查看")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://img.alicdn.com/tfs/TB1yL3taUgQMeJjy0FeXXXOEVXa-492-380.png",alt:"markdown"}})])]),t._v(" "),n("h3",{attrs:{id:"action-card-整体跳转"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#action-card-整体跳转"}},[t._v("#")]),t._v(" ACTION_CARD 整体跳转")]),t._v(" "),n("details",{staticClass:"custom-block details"},[n("summary",[t._v("点击查看")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://img.alicdn.com/tfs/TB1nhWCiBfH8KJjy1XbXXbLdXXa-547-379.png",alt:"actionCard"}})])]),t._v(" "),n("h3",{attrs:{id:"action-card-独立跳转"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#action-card-独立跳转"}},[t._v("#")]),t._v(" ACTION_CARD 独立跳转")]),t._v(" "),n("details",{staticClass:"custom-block details"},[n("summary",[t._v("点击查看")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://ding-doc.oss-cn-beijing.aliyuncs.com/images/0.0.239/1570679939723-c1fb7861-5bcb-4c30-9e1b-033932f6b72f.png",alt:"actionCard"}})])]),t._v(" "),n("h3",{attrs:{id:"首屏会话"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#首屏会话"}},[t._v("#")]),t._v(" 首屏会话")]),t._v(" "),n("details",{staticClass:"custom-block details"},[n("summary",[t._v("点击查看")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://img.alicdn.com/tfs/TB1ehWCiBfH8KJjy1XbXXbLdXXa-334-218.png",alt:"首屏会话"}})])]),t._v(" "),n("h2",{attrs:{id:"其他"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[t._v("#")]),t._v(" 其他")]),t._v(" "),n("p",[t._v("更多细节请参考 "),n("a",{attrs:{href:"/examples/text"}},[t._v("示例")]),t._v(" 章节")])])}),[],!1,null,null,null);a.default=e.exports}}]);